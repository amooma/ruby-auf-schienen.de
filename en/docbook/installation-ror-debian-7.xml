<?xml version="1.0" encoding="UTF-8"?>
<section version="5.0" xml:id="rails3-install-debian" xml:lang="en"
         xmlns="http://docbook.org/ns/docbook"
         xmlns:xlink="http://www.w3.org/1999/xlink"
         xmlns:xi="http://www.w3.org/2001/XInclude"
         xmlns:svg="http://www.w3.org/2000/svg"
         xmlns:m="http://www.w3.org/1998/Math/MathML"
         xmlns:html="http://www.w3.org/1999/xhtml"
         xmlns:db="http://docbook.org/ns/docbook">
  <title xml:id="rails3-install-debian.title">Debian 7.1 (Wheeze) -
  Installation of Ruby on Rails 4.0 with RVM</title>

  <indexterm>
    <primary>Installation</primary>

    <secondary>Ruby on Rails</secondary>

    <tertiary>Debian 7.1</tertiary>
  </indexterm>

  <indexterm>
    <primary>Debian 7.1</primary>

    <secondary>installation on Ruby on Rails</secondary>
  </indexterm>

  <indexterm>
    <primary>Ruby</primary>

    <secondary>Installation</secondary>
  </indexterm>

  <indexterm>
    <primary>Rails</primary>

    <secondary>Installation</secondary>
  </indexterm>

  <indexterm>
    <primary>RVM (Ruby Version Manager)</primary>
  </indexterm>

  <indexterm>
    <primary>Ruby Version Manager</primary>

    <see>RVM</see>
  </indexterm>

  <para>There are two main reasons for installing a Ruby on Rails system with
  RVM (Ruby Version Manager):<itemizedlist>
      <listitem>
        <para>You simply do not have any root rights on the system. In that
        case, you have no other option.</para>
      </listitem>

      <listitem>
        <para>You want to run several Rails systems that are separated
        cleanly, and perhaps also separate Ruby versions. This can be easily
        done with RVM on the Linux system. Then you can run Ruby 1.9.3 with
        Rails 3.2 and in parallel Ruby 2.0.0 with Rails 4.0 on the same
        computer.</para>
      </listitem>
    </itemizedlist></para>

  <note>
    <para>Detailled information on RVM can be found on the RVM homepage at
    <uri xlink:href="https://rvm.io/">https://rvm.io/</uri>.</para>
  </note>

  <para>This description assumes that you have a freshly installed Debian
  GNU/Linux 7.1 (<quote>Wheeze</quote>). You will find an ISO image for the
  installation at <uri
  xlink:href="http://www.debian.org">http://www.debian.org</uri>. I recommend
  the approximately 250 MB net installation CD image. For instructions on how
  to install Debian-GNU/Linux, please go to <uri
  xlink:href="http://www.debian.org/distrib/netinst">http://www.debian.org/distrib/netinst</uri>.</para>

  <section xml:id="rails3-debian5-install-vorbereitung">
    <title
    xml:id="rails3-debian5-install-vorbereitung.title">Preparations</title>

    <para>If you have root rights on the target system, you can use the
    following commands to ensure that all required programs for a successful
    installation of RVM are available. If you do not have root rights, you
    have to either hope that your admin has already installed everything you
    need, or send them a quick e-mail with the corresponding lines.</para>

    <para>First, an update of the package lists:<screen>root@debian:~# <command>aptitude update</command>
[...]
root@debian:~#</screen></para>

    <note>
      <para>Of course, you can optionally install a SSH server on the system,
      so you can work on the system via SSH instead of on the console:<screen>root@debian:~# <command>aptitude -y install openssh-server</command></screen></para>
    </note>

    <para>And now the installation of the packages required for the RVM
    installation:<screen>root@debian:~# <command>apt-get -y install gawk libgdbm-dev pkg-config libffi-dev build-essential openssl libreadline6 libreadline6-dev curl git-core zlib1g zlib1g-dev libssl-dev libyaml-dev libsqlite3-dev sqlite3 libxml2-dev libxslt-dev autoconf libc6-dev ncurses-dev automake libtool bison subversion python</command>
[...]
root@debian:~# </screen></para>

    <para>Now is a good time to log out as root:<screen>root@debian:~# <command>exit</command>
Abgemeldet</screen></para>
  </section>

  <section xml:id="ruby-1.9.3-mit-rvm-debian5">
    <title xml:id="ruby-1.9.2-mit-rvm-debian5.title">Installing Ruby 2.0.0
    with RVM</title>

    <para>Log in with your normal user account (in our case, it's the user
    <literal>xyz</literal>).</para>

    <para>RVM can be installed in various ways. I recommend using the
    following commands and get at least one cup of tea/coffee/favorite
    drink:<screen>deployer@debian:~$ <command>curl -L https://get.rvm.io | bash -s stable --rails</command>
[...]
deployer@debian:~$ <command>source /home/deployer/.rvm/scripts/rvm</command>
[...]
deployer@debian:~$</screen></para>

    <para>RVM, Ruby 2.0.0 and Rails 4.0 are now fully installed. </para>
  </section>

  <section xml:id="debian-install-danach">
    <title xml:id="debian-install-danach.title">And Now?</title>

    <para>If you have never worked with Ruby before, you should first read
    <xref linkend="ruby-grundlagen"/>. If you are already a Ruby master and
    want to move on to Rails now, then I recommend reading <xref
    linkend="erste_schritte_mit_rails"/>.</para>
  </section>
</section>
