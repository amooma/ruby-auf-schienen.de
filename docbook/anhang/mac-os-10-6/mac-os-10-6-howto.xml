<?xml version="1.0" encoding="UTF-8"?>
<section version="5.0" xmlns="http://docbook.org/ns/docbook"
         xmlns:xlink="http://www.w3.org/1999/xlink"
         xmlns:xi="http://www.w3.org/2001/XInclude"
         xmlns:svg="http://www.w3.org/2000/svg"
         xmlns:m="http://www.w3.org/1998/Math/MathML"
         xmlns:html="http://www.w3.org/1999/xhtml"
         xmlns:db="http://docbook.org/ns/docbook">
  <title>Ruby on Rails Installation auf Mac OS 10.6</title>

  <para>Die Anzahl der Ruby on Rails Entwickler die auf Mac OS X entwickeln
  ist erfreulich hoch. Auf Rails-Konferenzen sieht man bei über 70% der
  Teilnehmer ein MacBook.</para>

  <para>Mac OS 10.6 wird per Default schon mit Ruby und Ruby on Rails
  ausgeliefert. Dummerweise nur mit der Ruby-Version 1.8.7 und mit der
  Rails-Version 2.2.2. Beides für uns uninteressant. Wir wollen ein 1.9er Ruby
  und ein 2.3er Rails. Um die bestehende Ruby- und Rails-Installation und
  damit das Paketmanagement von Mac OS X nicht zu beeinflussen, installieren
  wir Ruby 1.9 und Rails 2.3.5 mit rvm (Ruby Version Manager). Infos zu rvm
  finden Sie auf der rvm-Homepage unter
  <uri>http://rvm.beginrescueend.com/</uri></para>

  <para>Mit rvm können Sie im User-Space (also ohne Root-Rechte und in Ihrem
  Home-Verzeichnis) beliebig viele verschiedene Ruby und Rails Versionen
  installieren und laufen lassen. So können Sie parallel an alten Projekten
  die vielleicht noch Ruby 1.8 benutzt haben und an neuen Projekte die Ruby
  1.9 benutzen arbeiten.</para>

  <section>
    <title>Vorbereitung (Xcode-Update)</title>

    <para>Bevor Sie mit der Ruby on Rails Installation anfangen, müssen Sie
    auf Ihr System die neuesten Xcode Tools von Apple installieren (diese sind
    auf der mitgelieferten Install-DVD fehlerhaft). Das DVD-Image ist gut 750
    MB gross und kann unter folgender URL downgeloadet werden:</para>

    <para>http://developer.apple.com/technology/xcode.html</para>
  </section>

  <section>
    <title>rvm installieren</title>

    <para>Öffnen Sie bitte ein Terminal und gehen Sie nach folgender Anleitung
    vor:<screen></screen><screen>MacBook:~ sw$ <command>gem sources -a http://gemcutter.org/</command>
http://gemcutter.org/ added to sources
MacBook:~ sw$ <command>gem install rvm</command>
WARNING:  Installing to ~/.gem since /Library/Ruby/Gems/1.8 and
   /usr/bin aren't both writable.
WARNING:  You don't have /Users/sw/.gem/ruby/1.8/bin in your PATH,
   gem executables will not run.
********************************************************************************

  In order to setup rvm for your user's environment you must now run rvm-install.
  rvm-install will be found in your current gems bin directory corresponding to where the gem was installed.

  rvm-install will install the scripts to your user account and append itself to your profiles in order to
  inject the proper rvm functions into your shell so that you can manage multiple rubies.

********************************************************************************
Successfully installed rvm-0.0.99
1 gem installed
Installing ri documentation for rvm-0.0.99...
Installing RDoc documentation for rvm-0.0.99...
MacBook:~ sw$</screen></para>

    <para>Das rvm gem ist installiert, aber das Install-Skript muss noch
    ausgeführt werden. Den genauen Pfad können Sie mit find suchen.<screen>MacBook:~ sw$ <command>find . -name "rvm-install"</command>
./.gem/ruby/1.8/bin/rvm-install
./.gem/ruby/1.8/gems/rvm-0.0.99/bin/rvm-install
./.gem/ruby/1.8/gems/rvm-0.0.99/scripts/rvm-install
./.rvm/scripts/rvm-install
MacBook:~ sw$ <command>.gem/ruby/1.8/gems/rvm-0.0.99/bin/rvm-install</command> 

Installing rvm to /Users/sw/.rvm/ ...

rvm - shell scripts that allows a user to manage multiple ruby versions in their own account.

Darwin Notes:

    *  curl is required.

    *  For Snow Leopard be sure to have XCode Tools Version 3.2.1 (1613) or later (there were bugs with the dvd release version).

    *  You should download the latest XCode tools from developer.apple.com. This is necessary since the dvd install for Snow Leopard has bugs.

    *  If you intend on installing MacRuby you must install LLVM first.

    *  If you intend on installing JRuby you must install the JDK.

    *  If you intend on installing IronRuby you must install Mono (version 2.6 or greater is recommended).

RTFM:  http://rvm.beginrescueend.com/

HELP:  http://webchat.freenode.net/?channels=rvm 
================================================================================

sw,


Thank you for using rvm. I hope that it makes your work easier and more enjoyable.
If you have any questions, issues and/or ideas for improvement please hop in #rvm on irc.freenode.net and let me know.
My irc nickname is 'wayneeseguin' and I hang out from ~09:00-17:00EST and again from ~21:00EST-~00:00EST.
If I do not respond right away, please hang around after asking your question, I will respond as soon as I am back.

  w‚¶ø‚Äø‚¶øt!

    ~ Wayne

================================================================================

You must now finish the install manually:

1) Place the folowing line at the end of your shell's loading files(.bash_profile and/or .zshenv), after all path/variable settings:

     if [[ -s /Users/sw/.rvm/scripts/rvm ]] ; then source /Users/sw/.rvm/scripts/rvm ; fi

2) Ensure that there is no 'return' from inside the .bashrc file. (otherwise rvm will be prevented from working properly).

3) CLOSE THIS SHELL and open a new one in order to use rvm.


rvm 0.0.99 by Wayne E. Seguin (wayneeseguin@gmail.com) [http://rvm.beginrescueend.com/]

MacBook:~ sw$</screen></para>

    <para>rvm ist fertig installiert, aber Sie müssen zum täglichen Gebrauch
    noch die folgende Zeile in Ihre <filename>.bash_profile</filename>
    einfügen. Falls die Datei noch nicht existiert, können Sie Sie mit
    <command>touch .bash_profile</command> erstellen. Falls Sie eine andere
    Shell als die Bash-Shell benutzen, müssen Sie in der dann entsprechenden
    Datei diese Veränderung vornehmen. <programlisting>if [[ -s /Users/sw/.rvm/scripts/rvm ]] ; then source /Users/sw/.rvm/scripts/rvm ; fi</programlisting></para>

    <para>Jetzt müssen Sie das Terminal schliessen und ein neues Terminal
    aufmachen (an sonsten wirkt die Veränderung von eben nicht). </para>

    <para>Mit rvm können Sie im neuen Terminal Ruby 1.9 installieren:<screen>MacBook:~ sw$ <command>rvm install ruby-1.9</command>

Installing Ruby from source to: /Users/sw/.rvm/ruby-1.9.1-p376


Extracting ruby-1.9.1-p376 ...


Configuring ruby-1.9.1-p376, this may take a while depending on your cpu(s)...


Compiling ruby-1.9.1-p376, this may take a while, depending on your cpu(s)...


Installing ruby-1.9.1-p376


Installation of ruby-1.9.1-p376 is complete.


Updating rubygems for ruby-1.9.1-p376


Installing gems for ruby-1.9.1-p376.


Installing rake


Installation of gems for ruby-1.9.1-p376 is complete.

MacBook:~ sw$</screen></para>

    <para>Noch werden Sie ein 1.8er Ruby haben. Das lässt sich leicht mit ruby
    -v rausfinden.<screen>MacBook:~ sw$ <command>ruby -v</command>
ruby 1.8.7 (2008-08-11 patchlevel 72) [universal-darwin10.0]
MacBook:~ sw$</screen></para>

    <para>Mit dem Befehl rvm 1.9.1 (bitte die genaue Versionsnummer
    gegebenenfalls anpassen) können Sie aber auf ein 1.9er Ruby
    wechseln.<screen>MacBook:~ sw$ <command>rvm 1.9.1</command>
MacBook:~ sw$ <command>ruby -v</command>
ruby 1.9.1p376 (2009-12-07 revision 26041) [i386-darwin10.2.0]
MacBook:~ sw$</screen></para>

    <para>Jetzt haben Sie Zugriff auf ein aktuelles Ruby 1.9. Dann müssen Sie
    nur noch Rails installieren.<screen>MacBook:~ sw$ <command>gem install rails</command>
Successfully installed activesupport-2.3.5
Successfully installed activerecord-2.3.5
Successfully installed rack-1.0.1
Successfully installed actionpack-2.3.5
Successfully installed actionmailer-2.3.5
Successfully installed activeresource-2.3.5
Successfully installed rails-2.3.5
7 gems installed
Installing ri documentation for activesupport-2.3.5...
Installing ri documentation for activerecord-2.3.5...
Installing ri documentation for rack-1.0.1...
Installing ri documentation for actionpack-2.3.5...
Installing ri documentation for actionmailer-2.3.5...
Installing ri documentation for activeresource-2.3.5...
Installing ri documentation for rails-2.3.5...
Updating class cache with 1513 classes...
Installing RDoc documentation for activesupport-2.3.5...
Installing RDoc documentation for activerecord-2.3.5...
Installing RDoc documentation for rack-1.0.1...
Installing RDoc documentation for actionpack-2.3.5...
Installing RDoc documentation for actionmailer-2.3.5...
Installing RDoc documentation for activeresource-2.3.5...
Installing RDoc documentation for rails-2.3.5...
MacBook:~ sw$</screen></para>

    <para>Perfekt. Jetzt haben Sie Ruby 1.9 und Rails 2.3.5.<screen>MacBook:~ sw$ <command>ruby -v</command>
ruby 1.9.1p376 (2009-12-07 revision 26041) [i386-darwin10.2.0]
MacBook:~ sw$ <command>rails -v</command>
Rails 2.3.5
MacBook:~ sw$</screen></para>

    <para>Mit rvm können Sie auch jederzeit wieder auf die Ruby Version 1.8
    zurückgehen oder zwischen beiden Versionen wechseln. Geben Sie einfach
    <command>rvm</command> ein, um eine entsprechende Hilfe-Seite angezeigt zu
    bekommen.</para>
  </section>
</section>
