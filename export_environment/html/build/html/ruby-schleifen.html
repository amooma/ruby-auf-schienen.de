<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>2.9. Schleifen</title><link rel="stylesheet" href="./default.css" type="text/css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta name="package" content="" /><link rel="home" href="index.html" title="Ruby on Rails 3.0" /><link rel="up" href="ruby-grundlagen.html" title="Kapitel 2. Ruby Grundlagen" /><link rel="prev" href="ruby-if-condition.html" title="2.8. if-Bedingung (if-Condition)" /><link rel="next" href="ruby-array-und-hash.html" title="2.10. Arrays und Hashes" /></head><body id="your-body"><div id="content"><div id="content-inner"><div id="leftcol" class="sidebar"><ul class="breadcrumbs"><li class="breadcrumb-link" style="margin-left: 0em"><a href="index.html">Ruby on Rails 3.0</a></li><li class="breadcrumb-link breadcrumb-bullet" style="margin-left: 0.8em"><a href="ruby-grundlagen.html">Ruby Grundlagen</a></li><li class="breadcrumb-node breadcrumb-last breadcrumb-bullet" style="margin-left: 1.6em"><a href="ruby-schleifen.html">Schleifen</a></li><li class="breadcrumb-link breadcrumb-bullet-another" style="margin-left: 2.4em"><a href="ruby-schleifen.html#id3306537">while und until</a></li><li class="breadcrumb-link breadcrumb-bullet-another" style="margin-left: 2.4em"><a href="ruby-schleifen.html#id3306617">Blöcke (Blocks) und Iteratoren (Iterators)</a></li></ul><div id="textsize"><span class="textts"> Change Text Size</span><br /><a href="javascript:void(0);" onclick="javascript:body.style.fontSize='13px'"><span class="plusts" style="font-size: small;">+</span></a><a href="javascript:void(0);" onclick="javascript:body.style.fontSize='15px'"><span class="plusts" style="font-size: large;">+</span></a><a href="javascript:void(0);" onclick="javascript:body.style.fontSize='17px'"><span class="plusts" style="font-size: x-large;">+</span></a></div></div><div id="rightcol" class="sidebar"></div><div id="maincol"><ul class="docnav top"><li class="previous"><a accesskey="p" href="ruby-if-condition.html"><strong>Zurück</strong></a></li><li class="next"><a accesskey="n" href="ruby-array-und-hash.html"><strong>Weiter</strong></a></li></ul><div class="section" title="2.9. Schleifen" id="ruby-schleifen"><div class="titlepage"><div><div><h2 class="title">2.9. Schleifen</h2></div></div></div><div class="para">Es gibt verschiedenen Arten Schleifen in Ruby zu realisieren. Dabei
    kommt im Rails-Umfeld vor allen Dingen die Iterator-Variante häufig zum
    Einsatz.</div><div class="section" title="2.9.1. while und until"><div class="titlepage"><div><div><h3 class="title">2.9.1. while und until</h3></div></div></div><div class="para">Eine While-Schleife sieht abstrakt wie folgt aus:<pre class="programlisting">while ausdruck do
  programm
end</pre></div><div class="para">Und praktisch wie in folgendem irb-Beispiel:<pre class="screen">irb(main):001:0&gt; <span class="command"><strong>i = 0</strong></span>             # i wird auf 0 gesetzt
=&gt; 0
irb(main):002:0&gt; <span class="command"><strong>while i &lt; 3 do</strong></span>   # Schleife
irb(main):003:1&gt; <span class="command"><strong>  puts i</strong></span>          # i wird ausgegeben
irb(main):004:1&gt; <span class="command"><strong>  i = i + 1</strong></span>       # i wird um 1 erhöht
irb(main):005:1&gt; <span class="command"><strong>end</strong></span>               # Ende der Schleife
0
1
2
=&gt; nil
irb(main):006:0&gt; <span class="command"><strong>exit</strong></span>
</pre></div><div class="para">Until-Schleifen werden ähnlich aufgebaut:<pre class="programlisting">until ausdruck
  programm
end</pre></div><div class="para">Auch hier das irb-Beispiel:<pre class="screen">sw@debian:~/sandbox$ <span class="command"><strong>irb</strong></span>
irb(main):001:0&gt; <span class="command"><strong>i = 5</strong></span>
=&gt; 5
irb(main):002:0&gt; <span class="command"><strong>until i == 0</strong></span>
irb(main):003:1&gt; <span class="command"><strong>i = i - 1</strong></span>
irb(main):004:1&gt; <span class="command"><strong>puts i</strong></span>
irb(main):005:1&gt; <span class="command"><strong>end</strong></span>
4
3
2
1
0
=&gt; nil
irb(main):006:0&gt; <span class="command"><strong>exit</strong></span>
</pre></div></div><div class="section" title="2.9.2. Blöcke (Blocks) und Iteratoren (Iterators)"><div class="titlepage"><div><div><h3 class="title">2.9.2. Blöcke (Blocks) und Iteratoren (Iterators)</h3></div></div></div><div class="para"><span class="quote">„<span class="quote">Block</span>“</span> und <span class="quote">„<span class="quote">Iterator</span>“</span> gehören zu den
      Lieblingswörter vieler Ruby-Programmierer. Jetzt zeige ich Ihnen mal
      warum.</div><div class="para">Bei der Schleife<pre class="programlisting">5.times { |i| puts i }</pre>
      ist <code class="varname">i</code> der Iterator und <code class="code">puts i</code> der
      Block.</div><div class="para">Das ganze kann aber auch in der folgenden Form ausgedrückt
      werden:<pre class="programlisting">5.times do |i|
  puts i
end</pre></div><div class="section" title="2.9.2.1. Iterator"><div class="titlepage"><div><div><h4 class="title">2.9.2.1. Iterator</h4></div></div></div><div class="para">Iteratoren sind nichts weiter als eine bestimmte Art von
        Methoden. (das englische Wort <span class="quote">„<span class="quote">Iterate</span>“</span> heißt
        <span class="quote">„<span class="quote">wiederholen</span>“</span>.) Bei der Klasse
        <code class="classname">Fixnum</code> gibt es zum Beispiel den Iterator
        <code class="methodname">times</code>. Mal schauen was uns
        <span class="application">ri</span> dazu als Hilfe anbietet:<pre class="screen">sw@debian:~/sandbox$ <span class="command"><strong>ri Fixnum.times</strong></span>
---------------------------------------------------------- Integer#times
     int.times {|i| block }     =&gt; int

     From Ruby 1.9.1
------------------------------------------------------------------------
     Iterates block _int_ times, passing in values from zero to _int_ -
     1.

        5.times do |i|
          print i, " "
        end

     _produces:_

        0 1 2 3 4

sw@debian:~/sandbox$</pre></div><div class="para">Und dort steht auch direkt ein schönes Beispiel, welches wir im
        <span class="application">irb</span> ausprobieren:<pre class="screen">sw@debian:~/sandbox$ <span class="command"><strong>irb</strong></span>
irb(main):001:0&gt; <span class="command"><strong>5.times do |i|</strong></span>
irb(main):002:1* <span class="command"><strong>puts i</strong></span>
irb(main):003:1&gt; <span class="command"><strong>end</strong></span>
0
1
2
3
4
=&gt; 5
irb(main):004:0&gt; <span class="command"><strong>exit</strong></span>
</pre></div><div class="para">Und es gibt auch noch eine kurze Schreibweise für kleine
        Blöcke:<pre class="screen">sw@debian:~/sandbox$ <span class="command"><strong>irb</strong></span>
irb(main):001:0&gt; <span class="command"><strong>5.times { |i| puts i }</strong></span>
0
1
2
3
4
=&gt; 5
irb(main):002:0&gt; <span class="command"><strong>exit</strong></span>
</pre></div><div class="para">Ein Iterator muss übrigens dem Block nicht zwangsläufig eine
        Variable übergeben:<pre class="screen">sw@debian:~/sandbox$ <span class="command"><strong>irb</strong></span>
irb(main):001:0&gt; <span class="command"><strong>5.times { puts 'Das blaue Haus.' }</strong></span>
Das blaue Haus.
Das blaue Haus.
Das blaue Haus.
Das blaue Haus.
Das blaue Haus.
=&gt; 5
irb(main):002:0&gt; <span class="command"><strong>exit</strong></span>
</pre></div></div><div class="section" title="2.9.2.2. Block"><div class="titlepage"><div><div><h4 class="title">2.9.2.2. Block</h4></div></div></div><div class="para">Ein Block ist nichts anderes als das von einem Iterator
        ausgelöste Programm. Im Block hat man Zugriff auf die vom Iterator
        übergebene lokale Variable.</div></div><div class="section" title="2.9.2.3. Methode upto"><div class="titlepage"><div><div><h4 class="title">2.9.2.3. Methode upto</h4></div></div></div><div class="para">Neben <code class="methodname">times</code> gibt es noch die Methode
        <code class="methodname">upto</code>, um leicht eine Schleife zu realisieren.
        ri gibt uns auch hier ein schönes Beispiel:<pre class="screen">sw@debian:~/sandbox$ <span class="command"><strong>ri Fixnum.upto</strong></span>
----------------------------------------------------------- Integer#upto
     int.upto(limit) {|i| block }     =&gt; int

     From Ruby 1.9.1
------------------------------------------------------------------------
     Iterates _block_, passing in integer values from _int_ up to and
     including _limit_.

        5.upto(10) { |i| print i, " " }

     _produces:_

        5 6 7 8 9 10

sw@debian:~/sandbox$ </pre></div></div></div></div><ul class="docnav bottom"><li class="previous"><a accesskey="p" href="ruby-if-condition.html"><strong>Zurück</strong>2.8. if-Bedingung (if-Condition)</a></li><li class="up"><a accesskey="u" href="#"><strong>Nach oben</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Zum Anfang</strong></a></li><li class="next"><a accesskey="n" href="ruby-array-und-hash.html"><strong>Weiter</strong>2.10. Arrays und Hashes</a></li></ul></div><div class="clear"></div></div></div></body></html>
